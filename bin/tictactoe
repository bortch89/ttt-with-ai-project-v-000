#!/usr/bin/env ruby

require_relative '../config/environment'

def start_game
  puts 'Welcome to Tic Tac Toe.'
  puts 'Would you like to play a 0, 1 or 2 player game?'
  input_game_type = gets.strip
  if input_game_type == '0'
    new_game = Game.new(Players::Computer.new('X'), Players::Computer.new('O'))
    new_game.play
  elsif input_game_type == '1'
    puts "Type 'X' if you want to be X and go first, or type 'O' if you want to be O and go second."
    input_first_player = gets.strip
    if input_first_player == 'X'
      new_game = Game.new(Players::Human.new('X'), Players::Computer.new('O'))
      new_game.play
    else
      new_game = Game.new(Players::Computer.new('X'), Players::Human.new('O'))
      new_game.play
    end
  elsif input_game_type == '2'
    puts 'Human vs Human. First player is X. Fight!'
    new_game = Game.new
    new_game.play
  else
    puts 'Wrong input. Game over.'
  end
end

game_on = "yes"
while game_on == "yes"
  start_game
  puts "Would you like to play again? (yes/no)"
  game_on = gets.strip
end
puts "Goodbye."
